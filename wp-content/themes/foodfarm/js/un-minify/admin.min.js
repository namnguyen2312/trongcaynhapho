!function(e){"use strict";jQuery(document).on("click",".edit-menu-item-use_megamenu",function(e){var t=jQuery(this).attr("id"),a=t.replace("edit-menu-item-use_megamenu-","");jQuery("#"+t).prop("checked")?(jQuery("#wrap-edit-menu-item-panel_column-"+a).show(),jQuery('input.menu-item-data-parent-id[value="'+a+'"]').length&&jQuery('input.menu-item-data-parent-id[value="'+a+'"]').parent().parent().find(".wrap-edit-menu-item-mega_item_column").show()):(jQuery("#wrap-edit-menu-item-panel_column-"+a).hide(),jQuery('input.menu-item-data-parent-id[value="'+a+'"]').length&&jQuery('input.menu-item-data-parent-id[value="'+a+'"]').parent().parent().find(".wrap-edit-menu-item-mega_item_column").hide())}),jQuery(document).ready(function(e){e(".color-picker-meta").iris()}),jQuery(document).ready(function(e){e(".ff-meta-color").each(function(){var t=e(this),a=t.find(".ff-color-field"),n=t.find(".ff-color-transparency");a.wpColorPicker({change:function(t,a){e(this).val(a.color.toString()),n.removeAttr("checked")},clear:function(e,t){n.removeAttr("checked")}}),n.on("click",function(){if(e(this).is(":checked"))a.attr("data-old-color",a.val()),a.val("transparent"),t.find(".wp-color-result").css("background-color","transparent");else if("transparent"===a.val()){var n=a.attr("data-old-color");t.find(".wp-color-result").css("background-color",n),a.val(n)}})})}),e(".redux-messageredux-notice,#redux_dashboard_widget").remove(),e("#redux-header").remove(),e('<div class="redux-header"><div class="display_header"><h2>Foodfarm Options</h2><span>'+foodfarm_params.foodfarm_version+'</span></div><div class="clear"></div></div>').insertBefore(".redux-container .redux-sidebar")}(jQuery);var file_frame;jQuery(document).on("click",".button_upload_image",function(e){e.preventDefault();var t=jQuery(this).attr("id");(file_frame=wp.media.frames.downloadable_file=wp.media({title:"Choose an image",button:{text:"Use image"},multiple:!1})).on("select",function(){attachment=file_frame.state().get("selection").first().toJSON(),jQuery("#"+t).val(attachment.url),jQuery("#"+t).attr("data-name")&&jQuery("#"+t).attr("name",jQuery("#"+t).attr("data-name"))}),file_frame.open()}),jQuery(document).on("click",".button_remove_image",function(e){var t=jQuery(this).attr("id");return jQuery("#"+t).val(""),!1}),jQuery(function(e){function t(t,a){for(var n=t,i=a,r=n.attr("class").split(" "),o=n.find("input.menu-item-data-parent-id").val(),m=0;m<r.length;m+=1)if(r[m].indexOf("menu-item-depth-")>=0){var u=r[m].split("menu-item-depth-"),c=n.attr("id");u=parseInt(u[1])+i,c=c.replace("menu-item-",""),0===u?(n.find(".wrap-custom-options-level1-"+c).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),n.find(".wrap-custom-options-level0-"+c).show().find('select, input[type="text"], textarea').each(function(){e(this).val()?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")}),n.find(".wrap-custom-options-level0-"+c).find('input[type="checkbox"]').each(function(){e(this).is(":checked")?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")})):1===u?(e("#edit-menu-item-use_megamenu-"+o).prop("checked")?n.find(".wrap-edit-menu-item-mega_item_column").show():n.find(".wrap-edit-menu-item-mega_item_column").hide(),n.find(".wrap-custom-options-level0-"+c).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),n.find(".wrap-custom-options-level1-"+c).show().find('select, input[type="text"], textarea').each(function(){e(this).val()?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")}),n.find(".wrap-custom-options-level1-"+c).find('input[type="checkbox"]').each(function(){e(this).is(":checked")?e(this).attr("name",e(this).data("name")):e(this).removeAttr("name")})):(n.find(".wrap-custom-options-level0-"+c).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}),n.find(".wrap-custom-options-level1-"+c).hide().find("select, input, textarea").each(function(){e(this).removeAttr("name")}))}}e(document).on("change",'.menu-item select, .menu-item textarea, .menu-item input[type="text"]',function(){var t=e(this);value=t.val(),value?t.attr("name",e(this).data("name")):t.removeAttr("name")}),e(document).on("change",'.menu-item input[type="checkbox"]',function(){var t=e(this);value=t.is(":checked"),value?t.attr("name",e(this).data("name")):t.removeAttr("name")}),e("#update-nav-menu").bind("click",function(a){if(a.target&&a.target.className&&-1!=a.target.className.indexOf("item-delete")){var n=a.target,i=parseInt(n.id.replace("delete-",""),10);e("#menu-item-"+i).childMenuItems().each(function(){t(e(this),-1)})}}),e("#menu-to-edit").on("sortstop",function(a,n){var i=n.item;setTimeout(function(){t(i,0);i.childMenuItems().each(function(){t(e(this),0)})},200)})});